id: de6761446d2d421b86122fb25d9ba453
parent_id: 
item_type: 1
item_id: 2fbfdc473c1942608bba9bb0515061ba
item_updated_time: 1697552546246
title_diff: "[{\"diffs\":[[1,\"sketch_nov23a\"]],\"start1\":0,\"start2\":0,\"length1\":0,\"length2\":13}]"
body_diff: "[{\"diffs\":[[1,\"````c++\\\n /* RC CAR, Translated from Bluetooth Amazon Car to work with Arduino Mega, Flysky FS-I6X Controller and Receiver and Adafruit Motor Shield v2.3\\\n\\\nSpecial thanks to Youtube Channel \\\"DroneBot Workshop\\\" for providing a Template for the Code - https://dronebotworkshop.com/radio-control-arduino-car/\\\nChannel functions by Ricardo Paiva - https://gist.github.com/werneckpaiva/\\\n\\\nWritten by Enrique Lopez - reference \\\"https://enriquelopezcode.github.io/projects/rc_car\\\" and click on the Arduino Projects Hub link for required parts and wiring  */\\\n\\\n//Include Libraries\\\n#include <Wire.h>\\\n#include <Adafruit_MotorShield.h>\\\n#include \\\"utility/Adafruit_MS_PWMServoDriver.h\\\"\\\n#include <IBusBM.h>\\\n#define passos_pino 3\\\n#define direcao_pino 6\\\n#define entrada_pino 9\\\nconst int echoPin = 5;\\\nconst int trigPin = 4;\\\nfloat distancia;\\\nString result; \\\nunsigned long valor;\\\n\\\n//Initialize Motors\\\nAdafruit_MotorShield AFMS = Adafruit_MotorShield();\\\nAdafruit_DCMotor *motor1 = AFMS.getMotor(1);\\\nAdafruit_DCMotor *motor2 = AFMS.getMotor(2);\\\nAdafruit_DCMotor *motor3 = AFMS.getMotor(3);\\\nAdafruit_DCMotor *motor4 = AFMS.getMotor(4);\\\n\\\n\\\n// Create iBus Object and Channel Values\\\nIBusBM ibus;\\\n\\\nint rcCH1 = 0;  // Acceleration\\\nint rcCH2 = 0;  // Left - Right\\\nint rcCH3 = 0;  // Forward - Backward\\\n\\\n//Motor Speed Variables\\\nint motor1speed = 0;\\\nint motor2speed = 0;\\\nint motor3speed = 0;\\\nint motor4speed = 0;\\\n\\\n//Motor Direction variables\\\nint motor1dir = 0;\\\nint motor2dir = 0;\\\nint motor3dir = 0;\\\nint motor4dir = 0;\\\n\\\n// Read the number of a given channel and convert to the range provided.\\\n// If the channel is off, return the default value (by Ricardo Paiva)\\\nint readChannel(byte channelInput, int minLimit, int maxLimit, int defaultValue) {\\\n  uint16_t ch = ibus.readChannel(channelInput);\\\n  if (ch < 100) return defaultValue;\\\n  return map(ch, 1000, 2000, minLimit, maxLimit);\\\n}\\\n\\\n\\\n// Control Motor\\\nvoid mControl1(int mspeed, int mdir) {\\\n  motor1->setSpeed(mspeed);\\\n  if (mdir == 1) {\\\n    motor1->run(FORWARD);\\\n  } else {\\\n    motor1->run(BACKWARD);\\\n  }\\\n}\\\n\\\nvoid mControl2(int mspeed, int mdir) {\\\n  motor2->setSpeed(mspeed);\\\n  if (mdir == 1) {\\\n    motor2->run(FORWARD);\\\n  } else {\\\n    motor2->run(BACKWARD);\\\n  }\\\n}\\\n\\\nvoid mControl3(int mspeed, int mdir) {\\\n  motor3->setSpeed(mspeed);\\\n  if (mdir == 1) {\\\n    motor3->run(FORWARD);\\\n  } else {\\\n    motor3->run(BACKWARD);\\\n  }\\\n}\\\n\\\nvoid mControl4(int mspeed, int mdir) {\\\n  motor4->setSpeed(mspeed);\\\n  if (mdir == 1) {\\\n    motor4->run(FORWARD);\\\n  } else {\\\n    motor4->run(BACKWARD);\\\n  }\\\n}\\\n\\\n\\\n\\\n\\\n\\\n\\\n\\\nvoid setup() {\\\n  //Call begin on Motorshield Object and Delay for Connection\\\n  AFMS.begin();\\\n  ibus.begin(Serial);\\\n  delay(2000);\\\n  \\\n  \\\n}\\\n\\\nvoid loop() {\\\n  //Get Channel Values\\\n  rcCH1 = readChannel(0, -100, 100, 0);\\\n  rcCH2 = readChannel(1, -100, 100, 0);\\\n  rcCH3 = readChannel(2, 0, 155, 0);\\\n\\\n  //Motor Speeds Channel 3\\\n  motor1speed = rcCH3;\\\n  motor2speed = rcCH3;\\\n  motor3speed = rcCH3;\\\n  motor4speed = rcCH3;\\\n\\\n  //Forward and Backward with Channel 2 Value\\\n  if (rcCH2 >= 0) {\\\n    //Forward\\\n    motor1dir = 1;\\\n    motor2dir = 1;\\\n    motor3dir = 1;\\\n    motor4dir = 1;\\\n  } else {\\\n    //Backward\\\n    motor1dir = -1;\\\n    motor2dir = -1;\\\n    motor3dir = -1;\\\n    motor4dir = -1;\\\n  }\\\n\\\n  //Add Channel 2 Speed\\\n  motor1speed = motor1speed + abs(rcCH2);\\\n  motor2speed = motor2speed + abs(rcCH2);\\\n  motor3speed = motor3speed + abs(rcCH2);\\\n  motor4speed = motor4speed + abs(rcCH2);\\\n\\\n  // Set left/right offset with channel 1 value\\\n  motor1speed = motor1speed + rcCH1;\\\n  motor2speed = motor2speed + rcCH1;\\\n  motor3speed = motor3speed - rcCH1;\\\n  motor4speed = motor4speed - rcCH1;\\\n\\\n  // Ensure that speeds are between 0 and 255\\\n  motor1speed = constrain(motor1speed, 0, 255);\\\n  motor2speed = constrain(motor2speed, 0, 255);\\\n  motor3speed = constrain(motor3speed, 0, 255);\\\n  motor4speed = constrain(motor4speed, 0, 255);\\\n\\\n  //Drive Motors\\\n\\\n  mControl1(motor1speed, motor1dir);\\\n  mControl2(motor2speed, motor2dir);\\\n  mControl3(motor3speed, motor3dir);\\\n  mControl4(motor4speed, motor4dir);\\\n\\\n  //small delay\\\n  delay(50);\\\n}\\\n````\"]],\"start1\":0,\"start2\":0,\"length1\":0,\"length2\":4011}]"
metadata_diff: {"new":{"id":"2fbfdc473c1942608bba9bb0515061ba","parent_id":"c0ac8a4da3024c7384c93ac6204e860b","latitude":"0.00000000","longitude":"0.00000000","altitude":"0.0000","author":"","source_url":"","is_todo":0,"todo_due":0,"todo_completed":0,"source":"joplin-desktop","source_application":"net.cozic.joplin-desktop","application_data":"","order":0,"markup_language":1,"is_shared":0,"share_id":"","conflict_original_id":"","master_key_id":"","user_data":""},"deleted":[]}
encryption_cipher_text: 
encryption_applied: 0
updated_time: 2023-10-17T14:23:43.641Z
created_time: 2023-10-17T14:23:43.641Z
type_: 13